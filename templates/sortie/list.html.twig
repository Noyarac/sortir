{% extends 'base.html.twig' %}

{# {% block title %}Sorties pour {{campus.nom}}{% endblock %} #}

{% block body %}
	<h2>Filtrer les sorties</h2>
	{{ form(campusForm, {'attr': {'data-turbo-frame': 'sorties-results-frame'}})}}
		<turbo-frame id="sorties-results-frame">
			<table class="table">
				<thead>
					<tr>
						<th>Nom</th>
						<th>Date</th>
						<th>Cloture</th>
						<th>Inscrits</th>
						<th>Etat</th>
						<th>Inscrit</th>
						<th>Organisateur</th>
						<th>Action</th>
					</tr>
				</thead>
				<tbody>
					{% for sortie in sorties %}
                        <tr>
                            <td>{{ sortie.nom}}</td>
                            <td>{{ sortie.dateHeureDebut | date("d/m/Y")}}</td>
                            <td>{{ sortie.dateLimiteInscription | date("d/m/Y")}}</td>
                            <td>{{sortie.participants | length }}{{sortie.nbInscriptionMax ? " / " : ""}}{{sortie.nbInscriptionMax}}</td>
                            <td>{{ sortie.etat|replace({'_': ' '})|capitalize}}</td>
                            <td>{{app.user in sortie.participants ? "âœ”" : ""}}</td>
                            <td>{{ sortie.organisateur.pseudo}}</td>
                            <td></td>
                        </tr>
					{% else %}
						<div>Il n'y a pas de sorties.</div>
					{% endfor %}
				</tbody>
			</table>
		</turbo-frame>


	{% endblock %}
